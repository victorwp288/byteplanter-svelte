<script>
	import { getDrawerStore } from '@skeletonlabs/skeleton';
	import { page } from '$app/stores';
	import { user } from '$lib/firebase';

	const drawerStore = getDrawerStore();

	$: classesActive = (href) => (href === $page.url.pathname ? '!bg-primary-500' : '');

	function drawerClose() {
		drawerStore.close();
	}
</script>

<nav class="list-nav p-4">
	<ul>
		<li>
			<a href="/" class={classesActive('/')} on:click={drawerClose}>
				<span class="badge bg-primary-500"
					><svg
						xmlns="http://www.w3.org/2000/svg"
						x="0px"
						y="0px"
						width="20"
						height="20"
						viewBox="0 0 50 50"
					>
						<path
							d="M 24.962891 1.0546875 A 1.0001 1.0001 0 0 0 24.384766 1.2636719 L 1.3847656 19.210938 A 1.0005659 1.0005659 0 0 0 2.6152344 20.789062 L 4 19.708984 L 4 46 A 1.0001 1.0001 0 0 0 5 47 L 18.832031 47 A 1.0001 1.0001 0 0 0 19.158203 47 L 30.832031 47 A 1.0001 1.0001 0 0 0 31.158203 47 L 45 47 A 1.0001 1.0001 0 0 0 46 46 L 46 19.708984 L 47.384766 20.789062 A 1.0005657 1.0005657 0 1 0 48.615234 19.210938 L 41 13.269531 L 41 6 L 35 6 L 35 8.5859375 L 25.615234 1.2636719 A 1.0001 1.0001 0 0 0 24.962891 1.0546875 z M 25 3.3222656 L 44 18.148438 L 44 45 L 32 45 L 32 26 L 18 26 L 18 45 L 6 45 L 6 18.148438 L 25 3.3222656 z M 37 8 L 39 8 L 39 11.708984 L 37 10.146484 L 37 8 z M 20 28 L 30 28 L 30 45 L 20 45 L 20 28 z"
						/>
					</svg></span
				>
				<span class="flex-auto">Home</span>
			</a>
		</li>
		<li>
			<a href="/contact" class={classesActive('/contact')} on:click={drawerClose}>
				<span class="badge bg-primary-500"
					><svg
						xmlns="http://www.w3.org/2000/svg"
						x="0px"
						y="0px"
						width="20"
						height="20"
						viewBox="0 0 50 50"
					>
						<path
							d="M 13 4 C 8.0414839 4 4 8.0414839 4 13 L 4 37 C 4 41.958516 8.0414839 46 13 46 L 37 46 C 41.958516 46 46 41.958516 46 37 L 46 13 C 46 8.0414839 41.958516 4 37 4 L 13 4 z M 13 6 L 37 6 C 37.355032 6 37.659445 6.150633 38 6.2011719 L 38 43.798828 C 37.659445 43.849367 37.355032 44 37 44 L 13 44 C 9.1225161 44 6 40.877484 6 37 L 6 13 C 6 9.1225161 9.1225161 6 13 6 z M 40 6.7304688 C 42.352068 7.856447 44 10.209434 44 13 L 44 14 L 40 14 L 40 6.7304688 z M 22 12 C 14.832139 12 9 17.832144 9 25 C 9 32.167856 14.832139 38 22 38 C 29.167861 38 35 32.167856 35 25 C 35 17.832144 29.167861 12 22 12 z M 22 14 C 28.086982 14 33 18.913022 33 25 C 33 27.822097 31.934808 30.383342 30.195312 32.328125 C 28.169802 30.27163 25.239791 29 22 29 C 18.758932 29 15.833876 30.276672 13.808594 32.333984 C 12.066333 30.388584 11 27.824608 11 25 C 11 18.913022 15.913018 14 22 14 z M 40 16 L 44 16 L 44 24 L 40 24 L 40 16 z M 22 18 C 20.416667 18 19.101892 18.629756 18.251953 19.585938 C 17.402014 20.542119 17 21.777778 17 23 C 17 24.222222 17.402014 25.457882 18.251953 26.414062 C 19.101892 27.370244 20.416667 28 22 28 C 23.583333 28 24.898108 27.370244 25.748047 26.414062 C 26.597986 25.457881 27 24.222222 27 23 C 27 21.777778 26.597986 20.542118 25.748047 19.585938 C 24.898108 18.629756 23.583333 18 22 18 z M 22 20 C 23.083333 20 23.768559 20.370244 24.251953 20.914062 C 24.735347 21.457881 25 22.222222 25 23 C 25 23.777778 24.735347 24.542118 24.251953 25.085938 C 23.768559 25.629756 23.083333 26 22 26 C 20.916667 26 20.231441 25.629756 19.748047 25.085938 C 19.264653 24.542119 19 23.777778 19 23 C 19 22.222222 19.264653 21.457882 19.748047 20.914062 C 20.231441 20.370244 20.916667 20 22 20 z M 40 26 L 44 26 L 44 34 L 40 34 L 40 26 z M 22 31 C 24.694386 31 27.092805 32.055926 28.730469 33.695312 C 26.87065 35.135558 24.540932 36 22 36 C 19.4616 36 17.134304 35.136865 15.275391 33.699219 C 16.913049 32.060657 19.305741 31 22 31 z M 40 36 L 44 36 L 44 37 C 44 39.790566 42.352068 42.143553 40 43.269531 L 40 36 z"
						/>
					</svg></span
				>
				<span class="flex-auto">Contact</span>
			</a>
		</li>
		<li>
			<a href="/faq" class={classesActive('/faq')} on:click={drawerClose}>
				<span class="badge bg-primary-500"
					><svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						version="1.1"
						width="20"
						height="2+"
						viewBox="0 0 256 256"
						xml:space="preserve"
					>
						<defs />
						<g
							style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;"
							transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"
						>
							<path
								d="M 61.634 81.861 H 12.088 C 5.422 81.861 0 76.438 0 69.773 V 20.227 C 0 13.562 5.422 8.139 12.088 8.139 h 49.546 c 6.665 0 12.088 5.423 12.088 12.088 v 15.148 l 15.196 7.848 C 89.582 43.567 90 44.252 90 45 s -0.418 1.434 -1.082 1.777 l -15.196 7.848 v 15.147 C 73.722 76.438 68.299 81.861 61.634 81.861 z M 12.088 12.139 C 7.628 12.139 4 15.768 4 20.227 v 49.545 c 0 4.46 3.628 8.088 8.088 8.088 h 49.546 c 4.46 0 8.088 -3.628 8.088 -8.088 V 53.407 c 0 -0.748 0.418 -1.434 1.082 -1.777 L 83.642 45 l -12.838 -6.63 c -0.664 -0.343 -1.082 -1.029 -1.082 -1.777 V 20.227 c 0 -4.459 -3.628 -8.088 -8.088 -8.088 H 12.088 z"
								style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;"
								transform=" matrix(1 0 0 1 0 0) "
								stroke-linecap="round"
							/>
							<path
								d="M 35.561 58.372 c -1.104 0 -2 -0.896 -2 -2 v -4.999 c 0 -0.551 0.227 -1.076 0.627 -1.454 l 8.02 -7.572 c 1.619 -1.666 2.543 -3.941 2.543 -6.349 v -0.298 c 0 -2.5 -0.986 -4.837 -2.776 -6.582 c -1.79 -1.744 -4.15 -2.687 -6.658 -2.604 c -4.932 0.127 -8.945 4.361 -8.945 9.438 c 0 1.104 -0.896 2 -2 2 s -2 -0.896 -2 -2 c 0 -7.227 5.761 -13.254 12.842 -13.438 c 3.581 -0.097 6.983 1.236 9.552 3.739 c 2.57 2.504 3.985 5.859 3.985 9.446 v 0.298 c 0 3.455 -1.327 6.721 -3.737 9.198 l -7.453 7.039 v 4.137 C 37.561 57.477 36.666 58.372 35.561 58.372 z"
								style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;"
								transform=" matrix(1 0 0 1 0 0) "
								stroke-linecap="round"
							/>
							<path
								d="M 35.56 68.99 c -0.23 0 -0.46 -0.021 -0.68 -0.07 c -0.23 -0.04 -0.45 -0.11 -0.66 -0.2 s -0.41 -0.189 -0.6 -0.32 c -0.19 -0.13 -0.37 -0.27 -0.53 -0.439 c -0.16 -0.16 -0.31 -0.34 -0.44 -0.53 c -0.13 -0.189 -0.23 -0.39 -0.32 -0.6 c -0.09 -0.21 -0.16 -0.431 -0.2 -0.66 c -0.05 -0.22 -0.07 -0.45 -0.07 -0.68 c 0 -0.23 0.02 -0.46 0.07 -0.681 c 0.04 -0.229 0.11 -0.45 0.2 -0.66 c 0.09 -0.21 0.19 -0.409 0.32 -0.6 c 0.13 -0.2 0.27 -0.37 0.43 -0.54 c 0.17 -0.16 0.35 -0.3 0.54 -0.43 c 0.19 -0.13 0.39 -0.24 0.6 -0.32 c 0.21 -0.09 0.43 -0.16 0.66 -0.2 c 0.45 -0.09 0.91 -0.09 1.37 0 c 0.22 0.04 0.44 0.11 0.65 0.2 c 0.21 0.08 0.41 0.19 0.6 0.32 c 0.2 0.13 0.37 0.27 0.54 0.43 c 0.16 0.17 0.3 0.34 0.43 0.54 c 0.13 0.19 0.24 0.39 0.32 0.6 c 0.09 0.21 0.16 0.431 0.2 0.66 c 0.05 0.221 0.07 0.45 0.07 0.681 c 0 0.229 -0.02 0.46 -0.07 0.68 c -0.04 0.229 -0.11 0.45 -0.2 0.66 c -0.08 0.21 -0.19 0.41 -0.32 0.6 c -0.13 0.19 -0.27 0.37 -0.43 0.53 c -0.17 0.17 -0.34 0.31 -0.54 0.439 c -0.19 0.131 -0.39 0.23 -0.6 0.32 s -0.43 0.16 -0.65 0.2 C 36.02 68.97 35.79 68.99 35.56 68.99 z"
								style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;"
								transform=" matrix(1 0 0 1 0 0) "
								stroke-linecap="round"
							/>
						</g>
					</svg></span
				>
				<span class="flex-auto">FAQ</span>
			</a>
		</li>
		{#if $user}
			<li>
				<a href="/history" class={classesActive('/history')} on:click={drawerClose}>
					<span class="badge bg-primary-500"
						><svg
							xmlns="http://www.w3.org/2000/svg"
							width="20"
							height="20"
							viewBox="0 0 24 24"
							fill="none"
							stroke="#000000"
							stroke-width="1"
							stroke-linecap="round"
							stroke-linejoin="round"
							><circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" /></svg
						></span
					>
					<span class="flex-auto">History</span>
				</a>
			</li>
		{/if}
	</ul>
</nav>
